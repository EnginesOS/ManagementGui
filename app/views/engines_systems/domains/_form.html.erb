<% is_edit_form = action_name.to_sym == :edit || action_name.to_sym == :update %>
<%= custom_form_for @domain, url: system_domain_path(engines_system_id: @engines_system.id), method: (:patch if is_edit_form) do |f| %>
  <% if is_edit_form %>
    <%= f.engines_field :domain_name, as: :read_only, horizontal: true, left: 4 %>
  <% else %>
    <%= f.engines_field :domain_name, as: :string, horizontal: true, left: 4 %>
  <% end %>
  <%= f.engines_field :internal_only, as: :boolean, compact: true, horizontal: true, label: false, checkbox_text: "Internal only", left: 4 %>
  <%= f.engines_field :self_hosted, as: :boolean, horizontal: true, label: false, checkbox_text: "Self hosted", left: 4 %>
  <%= f.engines_cancel_submit url: system_domains_path(engines_system_id: @engines_system.id), remote: true %>
<% end %>
